<!DOCTYPE html>
<html>

<head>
    <title>Example Web App</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/mapstyle.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <script type="text/javascript" src="js/function.js"></script>
    <script src="http://www.youtube.com/player_api"></script>
    <!-- <script type="text/javascript"
        src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=1bn280ccul"></script> -->

</head>

<script type="text/javascript" src="js/clock.js"></script>

<body>
    <div class="mainpage">

        <!--#########################                   메뉴                       ##############################-->
        <div id="menu" style="display:none">
            <div id="popup_open_btn1" class="parallelogram" style="background-color:rgb(17,17,17)">

                <p>목적지<br>설정</p>
            </div>
            <span style="width:0.5%;float: left"> &nbsp</span>
            <div id="popup_open_btn2" class="parallelogram" style="background-color:rgb(104, 81, 132)">
                <p>주변
                    안내</p>
            </div>
            <span style="width:0.5%;float: left"> &nbsp</span>
            <div id="popup_open_btn3" class="parallelogram" style="background-color:rgb(113, 112, 244)">
                <p>교통상황<br>확인</p>
            </div>
            <span style="width:0.5%;float: left"> &nbsp</span>
            <div id="popup_open_btn4" class="parallelogram" style="background-color:rgb(66, 151, 152)">
                <p>추천테마<br>소개</p>
            </div>

            <span style="width:0.5%;float: left"> &nbsp</span>
            <div id="popup_open_btn5" class="parallelogram" style="background-color:rgb(212, 65, 52)">
                <p>트렁크<br>확인</p>
            </div>
        </div>
        <a id="auctions1"><img class="auctions" src="img/menu.png" onclick="rosconnect()"></a>

        <!--##############################################################################-->
        <div id="player"></div>
        <script type="text/javascript">
            var player;
            function onYouTubePlayerAPIReady() {
                player = new YT.Player("player", {
                    width: "100%",
                    height: "100%",
                    videoId: "IW4IUciqo1A",
                    playerVars: {
                        'controls': 0,
                        'showinfo': 0,
                        'start': 33,
                        'loop': 1,
                        'playlist': 'IW4IUciqo1A'
                    },
                    events: {
                        onReady: onPlayerReady
                    }
                });
            }
            function onPlayerReady(event) {
                event.target.playVideo();
            }

        </script>

        <!--#########################                   모달                       ##############################-->
        <div id="my_modal1" class="modal">
            <div class="map_wrap">
                <div id="map" style="width:100%;height:100%;margin-left: auto;margin-right: auto;"></div>

                <div id="menu_wrap" class="bg_white">
                    <div class="option">
                        <div>
                            <form onsubmit="searchPlaces(); return false;">
                                키워드 : <input type="text" value="제주도" id="keyword" size="15">
                                <button type="submit">검색하기</button>
                            </form>
                        </div>
                    </div>
                    <hr>
                    <ul id="placesList"></ul>
                    <div id="pagination"></div>
                </div>
            </div>

        </div>
        <div id="my_modal2" class="modal">
            GPS를 이용한 POI 찾기 (네이버지도 API?)-> 이건 webOS GPS api + ROS2 gps데이터 뿌리는거 + 그거그거 CV머신러닝
        </div>
        <div id="my_modal3" class="modal">
            네이버지도 API 교통상황 + webOS GPS api + ROS2 데이터
        </div>
        <div id="my_modal4" class="modal">
            테마 데이터 만들기 + 검색??주변에 있는거 알려주기
        </div>
        <div id="my_modal5" class="modal">
            CV 머신러닝
        </div>

    </div>

    <!--#########################          네이버 지도               ##############################-->
    <script>
        setTimeout(function () {
            window.dispatchEvent(new Event("resize"));
        }, 600);
        function rosconnect() {
            var bridge = new WebOSServiceBridge();

            var puburl = "luna://com.webos.service.rosbridge/publish";
            var suburl = "luna://com.webos.service.rosbridge/subscribe";

            var subparams = JSON.stringify({
                "name": "chatter",
                "type": "std_msgs/msg/String",
                "subscribe": true,
            });


            function callback(msg) {
                var response = JSON.parse(msg);
                console.log(response.returnValue);
            }
            bridge.onservicecallback = callback;
            bridge.call(suburl, subparams);
        }


    </script>

    <!--#########################          네이버 지도               ##############################-->

</body>
<script type="text/javascript"
    src="//dapi.kakao.com/v2/maps/sdk.js?appkey=c862bcec5649b618c14bc197d11d0d6a&libraries=services"></script>

<script type="text/javascript" src="js/kakaomap.js"></script>
<script type="text/javascript" src="js/modal.js"></script>

</html>